<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>GithubLab</title>
	<script src="lib/jquery-1.11.0.min.js"></script>
	<script src="lib/underscore.js"></script>
	<script src="lib/backbone.js"></script>
	<script src="lib/d3.min.js"></script>
	<script src="lib/bootstrap.min.js"></script>
	<link rel="stylesheet" href="lib/bootstrap.min.css">
	<link rel="stylesheet" href="lib/bootstrap-theme.min.css">
	<link rel="stylesheet" href="stylesheets/styles.css">
</head>
<body>

	<div class="top-header-container col-lg-12">
		<header class="container col-lg-8 col-md-offset-2">
			<a href="/"><div class="logo">GithubLab</div></a>
			
			<!-- <form id="user-form" role="form">
				<div class="form-group">
					<input id="user-name" type="text" name="username" placeholder="Username">
					<button id="user-submit" class="btn btn-warning" type="submit">Search Github</button>
				</div>
			</form> -->

			<div id="input-container" class="row">
			  <div class="col-lg-6">
			    <div class="input-group">
			      <input id="user-name" type="text" class="form-control" name="username" placeholder="Github Username">
			      <span class="input-group-btn">
			        <button id="user-submit" class="btn btn-warning" type="button">Search</button>
			      </span>
			    </div>
			  </div>
			</div>

			<div id="user-container"></div>
		</header>
	</div>

	<div class="container col-md-10 col-md-offset-1">
		<ul id="timeline-container" class="container col-md-10 col-md-offset-1"></ul>
	</div>

	<!-- ============================================================== -->

	<!-- User Information -->
	<script id="user-information" type="text/template">
		<img class="user-image img-thumbnail" src="<%= avatar_url %>" title="<%= name || username %>" alt="<%= name || username %>">
	</script>

	<!-- Timeline Events -->
	<script id="timeline-item" class="col-xs-6 col-sm-4" type="text/template">
		<% if (type == 'CreateEvent'){ %>
			<h1>Created: <a href="<%= repo_url %>"><%= repo %></a></h1>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'FollowEvent'){ %>
			<h1>Started following <a href="<%= target_url %>"><%= target_name || target_login %></h1>
			<img class="actor-image" src="<%= target_avatar_url %>" title="<%= target_name || target_login %>" alt="<%= target_name || target_login %>">
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'ForkEvent'){ %>
			<h1>Forked <a href="<%= full_name_url %>"><%= full_name %></a> from <a href="<%= repo_url %>"><%= repo %></a></h1>
			<h3><%= description %></h3>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'GistEvent'){ %>
			<h1>Created a <a href="<%= gist_url %>">gist</a></h1>
			<% if (description != ""){ %>
				<h3><%= description %></h3>
			<% } %>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'GollumEvent'){ %>
			<h1>Updated <%= page_count %> page(s) for <a href="<%= repo_url %>"><%= repo %></a></h1>
			<h3><%= page_name %></h3>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'IssueCommentEvent'){ %>
			<h1>Commented on an <a href="<%= issue_url %>">issue</a> on <a href="<%= repo_url %>"><%= repo %></a></h1>
			<h3><%= issue %></h3>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'IssuesEvent'){ %>
			<h1>Opened an <a href="<%= issue_url %>">issue</a> on <a href="<%= repo_url %>"><%= repo %></a></h1>
			<h2><%= title %></h2>
			<h3><%= body %></h3>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'MemberEvent'){ %>
			<h1>Added as a collaborator to <a href="<%= repo_url %>"><%= repo %></a></h1>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'PullRequestEvent'){ %>
			<h1>Opened a <a href="<%= event_type_url %>">pull request</a> for <a href="<%= repo_url %>"><%= repo %></a></h1>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'PushEvent'){ %>
			<h1>Pushed <%= count %> commit(s) to <a href="<%= repo_url %>"><%= repo %></a></h1>
	  	<ul id="events-container">
	  		<% _.each(events, function(event){ %>
	  			<li><h3><%= event.payload.commits[0].message %><h3></li>
	  		<% }) %>
	  	</ul>
			<div><a href="#">more</a></div>
			<span class="date"><%= created_at %></span>
		<% } else if (type == 'WatchEvent'){ %>
			<h1>Start watching <a href="<%= repo_url %>"><%= repo %></a></h1>
			<img class="actor-image" src="<%= avatar_url %>" title="<%= name || login %>" alt="<%= name || login %>">
			<span class="date"><%= created_at %></span>
		<% } else { %>
			<h1>EVENT NOT LISTED</h1>
			<h3><%= type %></h3>
		<% } %>
	</script>

	<!-- Commit -->
	<script id="event-item" type="text/template">
		<%= payload.commits[0].message %>
	</script>

	<script src="javascripts/githublab.js"></script>
</body>
</html>
